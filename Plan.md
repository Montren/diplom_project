# *План тестирования функции "Путешествие дня"*
## Перечень автоматизируемых сценариев:
##### *Примечание: Сценарии с взаимодейстием с базой данных необходимо пройти используя и базу данных PostgreSQL и БД MySQL для проверки работоспособности с приложением каждой из них.*
#### Сценарий №1. Покупка путешествия с действующей карты со своих денежных средств.
1. Заходим на страницу покупки путешествия
2. Нажимаем кнопку "Купить"
3. Заполняем графу "Номер карты" валидным номером карты которая активна
4. Заполняем графу "Месяц" валидным месяцем
5. Заполняем графу "Год" валидным годом
6. Заполняем графу "Владелец" валидным именем
7. Заполняем графу "CVC/CVV" валидным нормером
8. Нажимаем кнопку "Продолжить"
##### Ожидаемый результат: Данные из заявки отправляются в сервис Payment Gate, информация о виде и успехе платежа сохраняется в базе данных, пользователь видит всплывающее окно: "Успешно! Операция одобрена банком.".

#### Сценарий №2. Покупка путешествия с действующей карты в кредит.
1. Заходим на страницу покупки путешествия
2. Нажимаем кнопку "Купить в кредит"
3. Заполняем графу "Номер карты" валидным номером карты которая активна
4. Заполняем графу "Месяц" валидным месяцем
5. Заполняем графу "Год" валидным годом
6. Заполняем графу "Владелец" валидным именем
7. Заполняем графу "CVC/CVV" валидным нормером
8. Нажимаем кнопку "Продолжить"
##### Ожидаемый результат: Данные из заявки отправляются в сервис Credit Gate, информация о виде и успехе платежа сохраняется в базе данных, пользователь видит всплвающее окно: "Успешно! Операция одобрена банком.".

#### Сценарий №3. Сценарий покупки путешествия с заблокированной карты в кредит.
1. Заходим на страницу покупки путешествия
2. Нажимаем кнопку "Купить в кредит"
3. Заполняем графу "Номер карты" валидным номером карты которая неактивна
4. Заполняем графу "Месяц" валидным месяцем
5. Заполняем графу "Год" валидным годом
6. Заполняем графу "Владелец" валидным именем
7. Заполняем графу "CVC/CVV" валидным нормером
8. Нажимаем кнопку "Продолжить"
##### Ожидаемый результат: Данные из заявки отправляются в сервис Credit Gate, информация о виде и отклонении платежа сохраняется в базе данных, пользователь видит всплвающее окно: "Ошибка! Банк отказал в проведении операции".

#### Сценарий №4. Сценарий покупки путешествия с заблокированной карты со своих денег.
1. Заходим на страницу покупки путешествия
2. Нажимаем кнопку "Купить"
3. Заполняем графу "Номер карты" валидным номером карты которая неактивна
4. Заполняем графу "Месяц" валидным месяцем
5. Заполняем графу "Год" валидным годом
6. Заполняем графу "Владелец" валидным именем
7. Заполняем графу "CVC/CVV" валидным нормером
8. Нажимаем кнопку "Продолжить"
##### Ожидаемый результат: Данные из заявки отправляются в сервис Credit Gate, информация о виде и отклонении платежа сохраняется в базе данных, пользователь видит всплвающее окно: "Ошибка! Банк отказал в проведении операции".


#### Сценарий №5. Форма заявки без номера карты.
1. Заходим на страницу покупки путешествия
2. Нажимаем кнопку "Купить"
3. Заполняем графу "Месяц" валидным месяцем
4. Заполняем графу "Год" валидным годом
5. Заполняем графу "Владелец" валидным именем
6. Заполняем графу "CVC/CVV" валидным нормером
7. Нажимаем кнопку "Продолжить"
##### Ожидаемый результат: Заявка не отправляется, пользователь видит надпись: *"Неверный формат"* под графой "Номер карты".

#### Сценарий №6. Заявка с некорретным месяцем/годом окончания действия карты
1. Заходим на страницу покупки путешествия
2. Нажимаем кнопку "Купить"
3. Заполняем графу "Номер карты" валидным номером карты
4. Заполняем графу "Месяц" невалидным месяцем (больше 12)
5. Заполняем графу "Год" невалидным годом (больше 5-и лет от текущего года)
6. Заполняем графу "Владелец" валидным именем
7. Заполняем графу "CVC/CVV" валидным нормером
8. Нажимаем кнопку "Продолжить"
##### Ожидаемый результат: Заявка не отправляется, пользователь видит надпись: *"Неверно указан срок действия карты"*. под гафами "Месяц", "Год"

#### Сценарий №7. Форма заявки без заполненной графы владельца.
1. Заходим на страницу покупки путешествия
2. Нажимаем кнопку "Купить" 
3. Заполняем графу "Номер карты" валидным номером карты
4. Заполняем графу "Месяц" валидным месяцем
5. Заполняем графу "Год" валидным годом
6. Заполняем графу "CVC/CVV" валидным нормером
7. Нажимаем кнопку "Продолжить"
##### Ожидаемый результат: Заявка не отправляется, пользователь видит надпись: *"Поле обязательно для заполнения"* под графой "Владелец".

#### Сценарий №8. Форма заявки без заполненной графы CVC/CVV
1. Заходим на страницу покупки путешествия
2. Нажимаем кнопку "Купить" 
3. Заполняем графу "Номер карты" валидным номером карты
4. Заполняем графу "Месяц" валидным месяцем
5. Заполняем графу "Год" валидным годом
6. Заполняем графу "Владелец" валидным именем
7. Нажимаем кнопку "Продолжить"
##### Ожидаемый результат: Заявка не отправляется, пользователь видит надпись: *"Неверный формат"* под графой "CVC/CVV".

#### Сценарий №9. Форма заявки с истекшим сроком карты
1. Заходим на страницу покупки путешествия
2. Нажимаем кнопку "Купить" 
3. Заполняем графу "Номер карты" валидным номером карты
4. Заполняем графу "Месяц" валидным месяцем
5. Заполняем графу "Год" значением предшествующим текущий год
6. Заполняем графу "Владелец" валидным именем
7. Заполняем графу "CVC/CVV" валидным нормером
8. Нажимаем кнопку "Продолжить"
##### Ожидаемый результат: Заявка не отправляется, пользователь видит надпись: *"Истёк срок действия карты"* под графой "Год".

## Перечень используемых инструментов:
1. IntelliJ IDEA 2019.3 - Платформа для удобного написания кода, в том числе для тестов.
2. JUnit 5. - Последняя версия платформы для написания и запуска авто-тестов. Преимущества платформы: возможность написания параметризированных тестов, возможность запуска тестов в самой IDE для Java без использования дополнительных инструментов.
3. Java 8. - Язык программирования для написания автотестов. Преимущества: WebDriver первыми выпускает обновления для java, кросплатформенность языка.
4. Gradle 5.2.1 - Система управления зависимости, которая позволит удобно ставить необходимые фреймворки без проблем с постоянной настройкой зависимостей.
5. Git 2.23.0.windows.1 - Система контроля версий, которая позволяет удаленно хранить код автотестов и не потерять их в случае поломки машины.
6. Selenide 5.3.1 — удобный фреймворк для автоматизированного тестирования веб-приложений. Удобен тем что сам скачивает необходимый драйвер браузера для автотестов, а так же уменьшает количество кода, тем самым экономит время на написание автотестов.
7. Allure 2.8.1 - фреймворк, предназначенный для создания визуально наглядной
  картины выполнения тестов. В случае непройденных тестов - позволит увидеть на каком этапе возникла ошибка без необходимости на низком уровне разбираться в самих тестах.
8. Docker 19.03.1 - система для контейнеризации, которая понадобится нам для быстрой установки СУБД.
9. Node.js 12.13.1 - для работы с симуляторами банковских сервисов, так как они на нем написаны.
10. MySQL 8 - СУБД для работы с нешей базой данных.
11. PostgreSQL 12 - альтернативная СУБД для работы с нешей базой данных.
12. Project Lombok 4.1.3 - плагин, позволяющий писать более лаконичный код, используя определенные аннотации, что так же позволит сократить время написания кода.

## Риски: 
* Что-либо из заявленного функционала может не работать, что увеличит срок написания автотестов, так как понадобится время что бы понять проблема в тестах или функционале.
* Внезапная болезнь тестировщика
* Отсутствие уникальных атрибутов элеметов на сайте и, соответственно, сложное определение локаторов

## Интервальная оценка с учётом рисков: 
* Планируемое время на написание тестов 16-20 часов

## План сдачи работ:
* Авто-тесты и результаты их прогона будут готовы до 08.12.2019 включительно
* Отчет по автоматизации будет готов до 10.12.2019 включительно